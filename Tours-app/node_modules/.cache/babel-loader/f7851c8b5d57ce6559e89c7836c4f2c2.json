{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Tours-app\\\\src\\\\Components\\\\Static2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport cookie from \"react-cookies\";\nimport API, { endpoints } from \"../Configs/API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChartJS2() {\n  _s();\n\n  const [chartData_year, setCharData_year] = useState([]);\n  const [chartData_month, setCharData_month] = useState([]);\n  const [chartData_precious, setCharData_precious] = useState([]);\n  const [eleData_year, setEleData_year] = useState([]);\n  const [eleData_month, setEleData_month] = useState([]);\n  const [eleData_precious, setEleData_precious] = useState([]);\n  const [list_booking, setList_booking] = useState([]);\n  const [year, setYear] = useState([]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(async () => {\n    get_all_booking(); // var a = `${2021}-${1}${0}`\n    // get_static(a)\n\n    btn_get_year(); // btn_get_month(\"2021-10\")\n  }, []);\n\n  const get_all_booking = async () => {\n    let res = await API.get(endpoints['all_booking'], {\n      headers: {\n        'Authorization': `Bearer ${cookie.load('access_token')}`\n      }\n    }, []);\n    setList_booking(res.data.results);\n  };\n\n  const get_static_year = date => {\n    let get = async () => {\n      let res = await API.post(endpoints['static_year'], {\n        \"date\": date\n      }, {\n        headers: {\n          'Authorization': `Bearer ${cookie.load('access_token')}`\n        }\n      }, []);\n      chartData_year.push(res.data);\n    };\n\n    get();\n  };\n\n  const get_static_month = date => {\n    let get = async () => {\n      let res = await API.post(endpoints['static_year'], {\n        \"date\": date\n      }, {\n        headers: {\n          'Authorization': `Bearer ${cookie.load('access_token')}`\n        }\n      }, []);\n      chartData_month.push(res.data);\n      console.log(res.data);\n    };\n\n    get();\n  };\n\n  const get_static_precious = date => {\n    let get = async () => {\n      let res = await API.post(endpoints['static_year'], {\n        \"date\": date\n      }, {\n        headers: {\n          'Authorization': `Bearer ${cookie.load('access_token')}`\n        }\n      }, []);\n      chartData_month.push(res.data);\n    };\n\n    get();\n  };\n\n  var b = [];\n  var c = [];\n  var d = [];\n  var dat = new Date().getFullYear();\n  var e = dat - 9;\n\n  for (let i = e; i <= dat; i++) {\n    for (let j = 1; j <= 12; j++) {\n      if (j < 10) {\n        d.push(`${i}-${0}${j}`);\n      } else {\n        d.push(`${i}-${j}`);\n      }\n    }\n  }\n\n  const btn_get_year = () => {\n    let res = async () => {\n      try {\n        let date = new Date().getFullYear();\n        let b = date - 9;\n        let i = b;\n        console.log(i);\n\n        do {\n          get_static_year(i);\n          year.push(i);\n          i++;\n        } while (i <= date);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    res();\n  };\n\n  const onclick_year = () => {\n    try {\n      setEleData_year(chartData_year.map((u, index) => count(u)));\n    } catch (er) {\n      console.error(er);\n    }\n  };\n\n  const btn_get_month = value => {\n    // let res = async ()=>{\n    //     try {\n    //         get_static_month(`${2021}-${1}${0}`)\n    //     }catch(er){\n    //         console.error(er)\n    //     }\n    // }\n    var a = value[0];\n    get_static_month(a);\n    rs_input();\n    setEleData_month(chartData_month.map((u, index) => count(u)));\n    console.log(eleData_month);\n  };\n\n  const onclick_month = () => {\n    try {\n      rs_input();\n      setEleData_month(chartData_month.map((u, index) => count(u)));\n      console.log(eleData_month);\n    } catch (er) {\n      console.error(er);\n    }\n  };\n\n  const btn_get_precious = value => {\n    get_static_precious(value);\n  };\n\n  const onclick_precious = () => {\n    try {\n      rs_input();\n      setEleData_month(chartData_month.map((u, index) => count(u)));\n      console.log(eleData_month);\n    } catch (er) {\n      console.error(er);\n    }\n  };\n\n  const rs_input = () => {\n    setCharData_precious([]);\n    setCharData_year([]);\n    setEleData_year([]);\n    setEleData_precious([]);\n  };\n\n  if (list_booking !== null && list_booking !== undefined) {\n    if (chartData_year !== null && chartData_year !== undefined) {\n      if (eleData_year.length !== 0 && year !== undefined) {\n        b = eleData_year;\n        c = year;\n        console.log('cb');\n      }\n\n      if (eleData_month.length !== 0 && eleData_month !== undefined) {\n        console.log(eleData_month);\n\n        if (year !== null && year !== undefined) {\n          b = eleData_month;\n          c = year;\n        }\n      }\n    }\n  }\n\n  let change_select = event => {\n    var a = [];\n    a.push(event.target.options[event.target.selectedIndex].getAttribute(\"value\"));\n    setEleData_month([]);\n    btn_get_month(a);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart_section py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading_static text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Monthly Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: b\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onclick_year,\n            children: \"th\\u1ED1ng k\\xEA n\\u0103m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onclick_month,\n            children: \"th\\u1ED1ng k\\xEA month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onclick_precious,\n            children: \"th\\u1ED1ng k\\xEA precious\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: rs_input,\n            children: \"reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"\",\n            onChange: change_select,\n            children: d.map((u, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: `${u}`,\n              children: u\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart py-5\",\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            data: {\n              labels: [`${c[0]}`, `${c[1]}`, `${c[2]}`, `${c[3]}`, `${c[4]}`, `${c[5]}`, `${c[6]}`, `${c[7]}`, `${c[8]}`, `${c[9]}`],\n              datasets: [{\n                label: 'Income',\n                data: [`${b[0]}`, `${b[1]}`, `${b[2]}`, `${b[3]}`, `${b[4]}`, `${b[5]}`, `${b[6]}`, `${b[7]}`, `${b[8]}`, `${b[9]}`],\n                backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'],\n                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n                borderWidth: 10\n              }]\n            },\n            options: {\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Monthly Statistics',\n                  position: 'right',\n                  fontSize: 1000\n                },\n                legend: {\n                  display: true,\n                  position: 'bottom'\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n\n_s(ChartJS2, \"T3jtT8Lx0CzNsQ6LWHTK6Pm5lNM=\");\n\n_c = ChartJS2;\n\nfunction count(obj) {\n  var b = 0;\n\n  for (let i = 0; i < obj.length; i++) {\n    b += obj[i].total;\n  }\n\n  return b;\n} // data={{ \n//     labels: ['January', 'February', 'March', 'April', 'May', 'June',\n//     'July' , 'August','September','October','November','December'],\n//     datasets: [{\n//         label: 'Ticket selled',\n//         data: [ `${b[0]}`,`${b[1]}`,`${b[2]}`,`${b[3]}`,`${b[4]}`,`${b[5]}`,`${b[6]}`,`${b[7]}`,`${b[8]}`\n//     ,`${b[9]}`],\n//         backgroundColor: [\n//             'rgba(255, 99, 132, 0.2)',\n//             'rgba(54, 162, 235, 0.2)',\n//             'rgba(255, 206, 86, 0.2)',\n//             'rgba(75, 192, 192, 0.2)',\n//             'rgba(153, 102, 255, 0.2)',\n//             'rgba(255, 159, 64, 0.2)'\n//         ],\n//         borderColor: [\n//             'rgba(255, 99, 132, 1)',\n//             'rgba(54, 162, 235, 1)',\n//             'rgba(255, 206, 86, 1)',\n//             'rgba(75, 192, 192, 1)',\n//             'rgba(153, 102, 255, 1)',\n//             'rgba(255, 159, 64, 1)'\n//         ],\n//         borderWidth: 10\n//     }]\n// }}\n// options = {{\n//     plugins: {\n//         title: {\n//             display: true,\n//             text: 'Monthly Statistics',\n//             position : 'right',\n//             fontSize : 1000\n//         },\n//         legend : {\n//             display : true,\n//             position : 'bottom'\n//         }\n//     }\n// }}\n\n\nvar _c;\n\n$RefreshReg$(_c, \"ChartJS2\");","map":{"version":3,"sources":["C:/Users/Admin/Tours-app/src/Components/Static2.js"],"names":["React","useEffect","useState","Bar","cookie","API","endpoints","ChartJS2","chartData_year","setCharData_year","chartData_month","setCharData_month","chartData_precious","setCharData_precious","eleData_year","setEleData_year","eleData_month","setEleData_month","eleData_precious","setEleData_precious","list_booking","setList_booking","year","setYear","get_all_booking","btn_get_year","res","get","headers","load","data","results","get_static_year","date","post","push","get_static_month","console","log","get_static_precious","b","c","d","dat","Date","getFullYear","e","i","j","err","error","onclick_year","map","u","index","count","er","btn_get_month","value","a","rs_input","onclick_month","btn_get_precious","onclick_precious","undefined","length","change_select","event","target","options","selectedIndex","getAttribute","labels","datasets","label","backgroundColor","borderColor","borderWidth","plugins","title","display","text","position","fontSize","legend","obj","total"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport cookie  from \"react-cookies\";\r\nimport API, { endpoints } from \"../Configs/API\"\r\n\r\n\r\n\r\nexport default function ChartJS2 (){\r\n\r\n    const [chartData_year , setCharData_year] = useState([])\r\n    const [chartData_month , setCharData_month] = useState([])\r\n    const [chartData_precious , setCharData_precious] = useState([])\r\n    const [eleData_year, setEleData_year] = useState([])\r\n    const [eleData_month , setEleData_month] = useState([])\r\n    const [eleData_precious , setEleData_precious] = useState([])\r\n    const [list_booking , setList_booking] = useState([])\r\n\r\n    const [year , setYear ] = useState([])\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(async ()=>{\r\n        get_all_booking();\r\n        // var a = `${2021}-${1}${0}`\r\n        // get_static(a)\r\n        btn_get_year()\r\n        // btn_get_month(\"2021-10\")\r\n    },[])\r\n\r\n   \r\n\r\n    const get_all_booking = async() =>{\r\n        let res = await API.get(endpoints['all_booking'],{\r\n            headers : {\r\n                'Authorization' : `Bearer ${cookie.load('access_token')}`\r\n            }\r\n        },[])\r\n        setList_booking(res.data.results)\r\n    }\r\n\r\n    const get_static_year =  (date) =>{\r\n        let  get = async ()=>{\r\n            let res = await API.post(endpoints['static_year'],{\r\n                \"date\":date\r\n            },{\r\n                headers : {\r\n                    'Authorization' : `Bearer ${cookie.load('access_token')}`\r\n                }\r\n            },[])\r\n            chartData_year.push(res.data)\r\n        }\r\n        get()\r\n    }\r\n    const get_static_month =  (date) =>{\r\n        let  get = async ()=>{\r\n            let res = await API.post(endpoints['static_year'],{\r\n                \"date\":date\r\n            },{\r\n                headers : {\r\n                    'Authorization' : `Bearer ${cookie.load('access_token')}`\r\n                }\r\n            },[])\r\n            chartData_month.push(res.data)\r\n            console.log(res.data)\r\n        }\r\n        get()\r\n    }\r\n    const get_static_precious =  (date) =>{\r\n        let  get = async ()=>{\r\n            let res = await API.post(endpoints['static_year'],{\r\n                \"date\":date\r\n            },{\r\n                headers : {\r\n                    'Authorization' : `Bearer ${cookie.load('access_token')}`\r\n                }\r\n            },[])\r\n            chartData_month.push(res.data)\r\n        }\r\n        get()\r\n    }\r\n    var b = []\r\n    var c = []\r\n\r\n    var d = []\r\n    var dat =  new Date().getFullYear();\r\n    var e = dat - 9\r\n    for ( let i = e ; i <= dat ; i++){\r\n        for (let j = 1;  j <= 12 ;j++){\r\n            if (j<10){\r\n                d.push(`${i}-${0}${j}`)\r\n            }else{\r\n                d.push(`${i}-${j}`)\r\n            }\r\n        }\r\n    }\r\n    \r\n    const btn_get_year =  () => {\r\n        let res = async () =>{\r\n            try{\r\n                let date =  new Date().getFullYear();\r\n                let b = date - 9\r\n                let i = b\r\n                console.log(i)\r\n                do{\r\n                    get_static_year(i)\r\n                    year.push(i)\r\n                    i ++\r\n                }\r\n                while( i <=  date)\r\n            }catch(err){\r\n                console.error(err)\r\n            }\r\n        }\r\n        res()\r\n    }\r\n    const onclick_year = () =>{\r\n        try{\r\n            setEleData_year(chartData_year.map((u,index)=> count(u)))\r\n        }catch(er){\r\n            console.error(er)\r\n        }\r\n    }\r\n   \r\n\r\n    \r\n    const btn_get_month =  (value)=>{\r\n        // let res = async ()=>{\r\n        //     try {\r\n        //         get_static_month(`${2021}-${1}${0}`)\r\n        //     }catch(er){\r\n        //         console.error(er)\r\n        //     }\r\n        // }\r\n        var a = value[0]\r\n        get_static_month(a)\r\n        rs_input()\r\n        setEleData_month(chartData_month.map((u,index)=> count(u)))\r\n        console.log(eleData_month)\r\n    }\r\n\r\n\r\n    const onclick_month =  () =>{\r\n        try{\r\n            rs_input()\r\n            setEleData_month(chartData_month.map((u,index)=> count(u)))\r\n            console.log(eleData_month)\r\n        }catch(er){\r\n            console.error(er)\r\n        }\r\n    }\r\n    const btn_get_precious = (value)=>{\r\n        get_static_precious(value)\r\n    }\r\n\r\n\r\n    const onclick_precious =  () =>{\r\n        try{\r\n            rs_input()\r\n            setEleData_month(chartData_month.map((u,index)=> count(u)))\r\n            console.log(eleData_month)\r\n        }catch(er){\r\n            console.error(er)\r\n        }\r\n    }\r\n    const  rs_input = () =>{\r\n        setCharData_precious([])\r\n        setCharData_year([])\r\n        setEleData_year([])\r\n        setEleData_precious([])\r\n    }\r\n\r\n\r\n    if (list_booking!== null && list_booking !== undefined){\r\n        if(chartData_year!== null && chartData_year!== undefined ){\r\n            if (eleData_year.length !== 0  && year!== undefined){\r\n                b = eleData_year\r\n                c = year\r\n                console.log('cb')\r\n            }\r\n            if( eleData_month.length !== 0 && eleData_month!== undefined ){\r\n                console.log(eleData_month)\r\n                if (year!== null && year!== undefined){\r\n                    b = eleData_month\r\n                    c = year\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    let change_select = (event)=>{\r\n        var a = []\r\n        a.push(event.target.options[event.target.selectedIndex].getAttribute(\"value\"))\r\n        setEleData_month([])\r\n        btn_get_month(a)\r\n    }\r\n    \r\n    return (\r\n<>\r\n\r\n<div className=\"chart_section py-5\">\r\n    <div className=\"container py-5\">\r\n    <div className=\"heading_static text-center\">\r\n    <h1>Monthly Statistics</h1>\r\n    <h2>{b}</h2>\r\n    <button type=\"button\" onClick={onclick_year}>\r\n        thống kê năm\r\n    </button>\r\n    <button type=\"button\" onClick={onclick_month}>\r\n        thống kê month\r\n    </button>\r\n    <button type=\"button\" onClick={onclick_precious}>\r\n        thống kê precious\r\n    </button>\r\n    <button type=\"button\" onClick={rs_input}>\r\n        reset\r\n    </button>\r\n    <select className=\"\" onChange={change_select}>\r\n        {d.map((u,index) => <option value={`${u}`} key={index}>{u}</option>)}\r\n    </select>\r\n    </div>\r\n    <div className=\"chart py-5\">\r\n        <Bar\r\n            data={{ \r\n                labels: [`${c[0]}`,`${c[1]}`,`${c[2]}`,`${c[3]}`,`${c[4]}`,`${c[5]}`,`${c[6]}`,`${c[7]}`,`${c[8]}`\r\n                ,`${c[9]}`],\r\n                datasets: [{\r\n                    label: 'Income',\r\n                    data: [ `${b[0]}`,`${b[1]}`,`${b[2]}`,`${b[3]}`,`${b[4]}`,`${b[5]}`,`${b[6]}`,`${b[7]}`,`${b[8]}`\r\n                ,`${b[9]}`],\r\n                    backgroundColor: [\r\n                        'rgba(255, 99, 132, 0.2)',\r\n                        'rgba(54, 162, 235, 0.2)',\r\n                        'rgba(255, 206, 86, 0.2)',\r\n                        'rgba(75, 192, 192, 0.2)',\r\n                        'rgba(153, 102, 255, 0.2)',\r\n                        'rgba(255, 159, 64, 0.2)'\r\n                    ],\r\n                    borderColor: [\r\n                        'rgba(255, 99, 132, 1)',\r\n                        'rgba(54, 162, 235, 1)',\r\n                        'rgba(255, 206, 86, 1)',\r\n                        'rgba(75, 192, 192, 1)',\r\n                        'rgba(153, 102, 255, 1)',\r\n                        'rgba(255, 159, 64, 1)'\r\n                    ],\r\n                    borderWidth: 10\r\n                }]\r\n            }}\r\n            options = {{\r\n                plugins: {\r\n                    title: {\r\n                        display: true,\r\n                        text: 'Monthly Statistics',\r\n                        position : 'right',\r\n                        fontSize : 1000\r\n                    },\r\n                    legend : {\r\n                        display : true,\r\n                        position : 'bottom'\r\n                    }\r\n                }\r\n            }}\r\n        />\r\n    </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n</>    \r\n    )\r\n}\r\n\r\nfunction count (obj){\r\n    var b  = 0\r\n\r\n    for (let  i = 0  ; i < obj.length ; i ++){\r\n        b += obj[i].total\r\n    }\r\n    return b\r\n}\r\n\r\n\r\n// data={{ \r\n//     labels: ['January', 'February', 'March', 'April', 'May', 'June',\r\n//     'July' , 'August','September','October','November','December'],\r\n//     datasets: [{\r\n//         label: 'Ticket selled',\r\n//         data: [ `${b[0]}`,`${b[1]}`,`${b[2]}`,`${b[3]}`,`${b[4]}`,`${b[5]}`,`${b[6]}`,`${b[7]}`,`${b[8]}`\r\n//     ,`${b[9]}`],\r\n//         backgroundColor: [\r\n//             'rgba(255, 99, 132, 0.2)',\r\n//             'rgba(54, 162, 235, 0.2)',\r\n//             'rgba(255, 206, 86, 0.2)',\r\n//             'rgba(75, 192, 192, 0.2)',\r\n//             'rgba(153, 102, 255, 0.2)',\r\n//             'rgba(255, 159, 64, 0.2)'\r\n//         ],\r\n//         borderColor: [\r\n//             'rgba(255, 99, 132, 1)',\r\n//             'rgba(54, 162, 235, 1)',\r\n//             'rgba(255, 206, 86, 1)',\r\n//             'rgba(75, 192, 192, 1)',\r\n//             'rgba(153, 102, 255, 1)',\r\n//             'rgba(255, 159, 64, 1)'\r\n//         ],\r\n//         borderWidth: 10\r\n//     }]\r\n// }}\r\n// options = {{\r\n//     plugins: {\r\n//         title: {\r\n//             display: true,\r\n//             text: 'Monthly Statistics',\r\n//             position : 'right',\r\n//             fontSize : 1000\r\n//         },\r\n//         legend : {\r\n//             display : true,\r\n//             position : 'bottom'\r\n//         }\r\n//     }\r\n// }}"]},"metadata":{},"sourceType":"module"}