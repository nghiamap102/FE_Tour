{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Tours-app\\\\src\\\\Components\\\\RegisterUser.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Modal, Form, Button, Container, ToastContainer } from 'react-bootstrap';\nimport { useHistory } from \"react-router\";\nimport { toast } from \"react-toastify\";\nimport API, { endpoints } from '../Configs/API';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n\n  const [username, setUsername] = useState([]);\n  const [password, setPassword] = useState([]);\n  const [confirm, setConfirm] = useState([]);\n  const [email, setEmail] = useState([]);\n  const [phone, setPhone] = useState([]);\n  const [address, setAddress] = useState([]);\n  const [first_name, setFirst_name] = useState([]);\n  const [last_name, setLast_name] = useState([]);\n  const [is_staff, setIs_staff] = useState([true]);\n  const avatar = useRef();\n  const history = useHistory();\n\n  const register = async event => {\n    event.preventDefault();\n\n    if (password === confirm && password !== null) {\n      const formdata = new FormData();\n      formdata.append(\"first_name\", first_name);\n      formdata.append(\"last_name\", last_name);\n      formdata.append(\"username\", username);\n      formdata.append(\"password\", password);\n      formdata.append(\"phone\", phone);\n      formdata.append(\"is_staff\", is_staff);\n      formdata.append(\"staff\", \"1\");\n      formdata.append(\"avatar\", avatar.current.files[0]);\n\n      try {\n        let res = await API.post(endpoints['register'], formdata, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        console.log(res.data);\n        let res_staff = await API.post(endpoints['update_staff'], {\n          'user': res.data.id\n        });\n        console.log(res_staff.data);\n        history.push(\"/login\");\n      } catch (er) {\n        console.error(er);\n        toast.warning('Có lỗi rùi!', {\n          position: \"top-bottom\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    } else {\n      document.getElementById('');\n    }\n  };\n\n  window.onload = function () {\n    $('.intro').hide();\n    $('.footer-tour').hide();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_regist py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register_container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"register_wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"register_card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                class: \"text_register\",\n                children: \"Register Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: register,\n                className: \"form_register\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"name_gr\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form_group first_name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"label_\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"First Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input_\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: first_name,\n                        onChange: event => setFirst_name(event.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 92,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form_group last_name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"label_\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Last Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input_\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: last_name,\n                        onChange: event => setLast_name(event.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form_group first_name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"label_\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Username\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input_\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: username,\n                      onChange: event => setUsername(event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"gr_password\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form_group first_name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"label_\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input_\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        value: password,\n                        onChange: event => setPassword(event.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form_group first_name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"label_\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Confirm Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input_\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        value: confirm,\n                        onChange: event => setConfirm(event.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3 ava_gr\",\n                  controlId: \"Avatar\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"label_\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input_\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"file\",\n                      ref: avatar\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  type: \"submit\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n} // function RegistForm (props){\n//     return (\n// <>\n//     <Form.Group controlId={props.id} className={props.className}>\n//         <div className={props.}>\n//         </div>\n//         <Form.Label>{props.label}</Form.Label>\n//         <Form.Control type={props.type} value={props.value} onChange={props.change}/>\n//     </Form.Group>  \n// </>\n//     );\n// }\n// constructor(){\n//     super()\n//     this.user = {\n//         'first_name' :'',\n//         'last_name' : '',\n//         'email' : '',\n//         'username' : '' , \n//         'password' : '',\n//         'confirm_password' : '',\n//     }\n//     this.avatar = React.createRef()\n//     this.state = {\n//         'user' : this.user, \n//     }\n// }\n// change = (field, e)=>{\n//     this.user[field] = e.target.value;\n//     this.setState({\n//         'user' :this.user \n//     });\n// }\n// register = (event) => {\n//     event.preventDefault()\n//     if(this.state.user.password === this.state.user.confirm_password){\n//         const formData = new  FormData()\n//         for (let i in this.state.user ){\n//             if( i !== 'confirm_password'){\n//                 formData.append(i,this.state.user[i]); \n//             }\n//         }\n//         formData.append('avatar',this.avatar.current.files[0])\n//         API.post(endpoints['users'],formData,{\n//             headers:{\n//                 'Content-Type' : 'multipart/form-data'\n//             }\n//         }).then((res)=>{\n//             console.info(res);\n//         }).catch(err => {\n//             console.error(err)\n//         })\n//     }\n// }\n// change={this.change.bind(this,'email')}\n\n_s(Register, \"X8YC91ePDdmzTEHWu7ycfd33tn0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/Admin/Tours-app/src/Components/RegisterUser.js"],"names":["React","useState","useEffect","useRef","Modal","Form","Button","Container","ToastContainer","useHistory","toast","API","endpoints","$","Register","username","setUsername","password","setPassword","confirm","setConfirm","email","setEmail","phone","setPhone","address","setAddress","first_name","setFirst_name","last_name","setLast_name","is_staff","setIs_staff","avatar","history","register","event","preventDefault","formdata","FormData","append","current","files","res","post","headers","console","log","data","res_staff","id","push","er","error","warning","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","document","getElementById","window","onload","hide","target","value"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React from \"react\";\r\nimport { useState ,useEffect,useRef} from \"react\";\r\nimport {Modal,Form,Button, Container, ToastContainer} from 'react-bootstrap'\r\nimport { useHistory } from \"react-router\";\r\nimport { toast } from \"react-toastify\";\r\nimport API, {  endpoints } from '../Configs/API'\r\nimport $ from 'jquery'\r\n\r\n\r\n\r\nexport default function Register (){\r\n\r\n    const [username,setUsername] = useState([])\r\n    const [password,setPassword] = useState([])\r\n    const [confirm,setConfirm] = useState([])\r\n    const [email,setEmail] = useState([])\r\n    const [phone,setPhone] = useState([])\r\n    const [address,setAddress] = useState([])\r\n    const [first_name,setFirst_name] =useState([])\r\n    const [last_name,setLast_name] =useState([])\r\n    const [is_staff,setIs_staff] = useState([true])\r\n\r\n    const avatar = useRef()\r\n    const history = useHistory()\r\n\r\n    const register =async (event)=>{\r\n        event.preventDefault()\r\n        if (password===confirm && password!== null){\r\n            const formdata = new FormData()\r\n            formdata.append(\"first_name\" , first_name)\r\n            formdata.append(\"last_name\" , last_name)\r\n            formdata.append(\"username\" , username)\r\n            formdata.append(\"password\" , password)\r\n            formdata.append(\"phone\" , phone)\r\n            formdata.append(\"is_staff\" , is_staff)\r\n            formdata.append(\"staff\" , \"1\")\r\n            formdata.append(\"avatar\",avatar.current.files[0])\r\n            try{\r\n                let res = await API.post(endpoints['register'],formdata,{\r\n                    headers:{\r\n                        \"Content-Type\" : \"multipart/form-data\"\r\n                    }\r\n                })\r\n                console.log(res.data)\r\n                let res_staff = await API.post(endpoints['update_staff'],{\r\n                    'user' : res.data.id\r\n                })\r\n                console.log(res_staff.data)\r\n                history.push(\"/login\")\r\n            }catch(er){\r\n                console.error(er)\r\n                toast.warning('Có lỗi rùi!', {\r\n                    position: \"top-bottom\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            }\r\n        }else{\r\n            document.getElementById('')\r\n        }\r\n    }\r\n\r\n    window.onload = function(){\r\n        $('.intro').hide()\r\n        $('.footer-tour').hide()\r\n    }\r\n\r\n    return(            \r\n<>\r\n<ToastContainer/>\r\n<div className=\"section_regist py-5\">\r\n    <div className=\"container py-5\">\r\n        <div className=\"register_container\">\r\n            <div className=\"register_wrapper\">\r\n                <div className=\"register_card\">\r\n                    <h3 class=\"text_register\">Register Form</h3>   \r\n                    <Form onSubmit={register} className=\"form_register\">\r\n                        <div className=\"name_gr\">\r\n                            <div className=\"form_group first_name\">\r\n                                <div className=\"label_\">\r\n                                    <label>\r\n                                        First Name\r\n                                    </label>\r\n                                </div>\r\n                               \r\n                                <div className=\"input_\">\r\n                                    <input type=\"text\" value={first_name} onChange={(event)=>setFirst_name(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form_group last_name\">\r\n                                <div className=\"label_\">\r\n                                    <label>\r\n                                        Last Name\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"input_\">\r\n                                    <input type=\"text\" value={last_name} onChange={(event)=>setLast_name(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form_group first_name\">\r\n                            <div className=\"label_\">\r\n                                <label>\r\n                                    Username\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"input_\">\r\n                                <input type=\"text\" value={username} onChange={(event)=>setUsername(event.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"gr_password\">\r\n                            <div className=\"form_group first_name\">\r\n                                <div className=\"label_\">\r\n                                    <label>\r\n                                        Password\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"input_\">\r\n                                    <input type=\"password\" value={password} onChange={(event)=>setPassword(event.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form_group first_name\">\r\n                                <div className=\"label_\">\r\n                                    <label>\r\n                                        Confirm Password\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"input_\">\r\n                                    <input type=\"password\" value={confirm} onChange={(event)=>setConfirm(event.target.value)} />\r\n                                </div>\r\n                                {/* <p>Confirm password incorrect</p> */}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                      \r\n                        <Form.Group className=\"mb-3 ava_gr\" controlId='Avatar'>\r\n                            <div className=\"label_\">\r\n                                <label>Avatar</label>\r\n                            </div>\r\n                            <div className=\"input_\">\r\n                                <Form.Control type=\"file\" ref={avatar} />\r\n                            </div>\r\n                        </Form.Group>                        \r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n</div>\r\n\r\n\r\n</>\r\n    )\r\n}\r\n\r\n// function RegistForm (props){\r\n//     return (\r\n// <>\r\n//     <Form.Group controlId={props.id} className={props.className}>\r\n//         <div className={props.}>\r\n\r\n//         </div>\r\n//         <Form.Label>{props.label}</Form.Label>\r\n//         <Form.Control type={props.type} value={props.value} onChange={props.change}/>\r\n//     </Form.Group>  \r\n// </>\r\n//     );\r\n// }\r\n\r\n\r\n// constructor(){\r\n//     super()\r\n\r\n//     this.user = {\r\n//         'first_name' :'',\r\n//         'last_name' : '',\r\n//         'email' : '',\r\n//         'username' : '' , \r\n//         'password' : '',\r\n//         'confirm_password' : '',\r\n//     }\r\n\r\n//     this.avatar = React.createRef()\r\n\r\n//     this.state = {\r\n//         'user' : this.user, \r\n//     }\r\n// }\r\n\r\n// change = (field, e)=>{\r\n//     this.user[field] = e.target.value;\r\n//     this.setState({\r\n//         'user' :this.user \r\n//     });\r\n// }\r\n\r\n// register = (event) => {\r\n//     event.preventDefault()\r\n\r\n//     if(this.state.user.password === this.state.user.confirm_password){\r\n//         const formData = new  FormData()\r\n//         for (let i in this.state.user ){\r\n//             if( i !== 'confirm_password'){\r\n//                 formData.append(i,this.state.user[i]); \r\n//             }\r\n//         }\r\n//         formData.append('avatar',this.avatar.current.files[0])\r\n        \r\n//         API.post(endpoints['users'],formData,{\r\n//             headers:{\r\n//                 'Content-Type' : 'multipart/form-data'\r\n//             }\r\n//         }).then((res)=>{\r\n//             console.info(res);\r\n//         }).catch(err => {\r\n//             console.error(err)\r\n//         })\r\n//     }\r\n// }\r\n// change={this.change.bind(this,'email')}\r\n"]},"metadata":{},"sourceType":"module"}